# Notifications: toggle swaync panel
bindsym $mod+Shift+m exec swaync-client -t -sw

# Launch default browser
bindsym $mod+Shift+b exec $browser

# Launch terminal
bindsym $mod+Return exec $term

# Launch floating terminal window
bindsym $mod+Shift+Return exec $term --class=floating-terminal --title "Floating Terminal"

# Show keybindings cheat sheet (toggle floating terminal)
bindsym $mod+F1 exec "$HOME/.alatar/scripts/toggle-cheatsheet.sh"

# Toggle floating terminal via helper (defaults to bash)
bindsym $mod+F2 exec "$HOME/.alatar/scripts/toggle-floating-terminal.sh"

# Toggle floating Yazi (Ghostty)
bindsym $mod+F5 exec "$HOME/.alatar/scripts/toggle-floating-yazi.sh"

# Close focused window gracefully
bindsym $mod+q kill

# Force kill the focused window's process
bindsym Ctrl+Shift+q exec sh -c 'pid=$(swaymsg -t get_tree | jq -r ".. | select(.focused? == true).pid // empty" | head -n1); [ -n "$pid" ] && kill -9 "$pid"'

# App launcher (rofi)
bindsym $mod+d exec $menu

# Wallpaper picker
bindsym $mod+Shift+p exec ~/.local/bin/pape pick

# Reload sway configuration
bindsym $mod+Shift+c reload

# Open wikid buffer (w.sh)
bindsym $mod+Shift+d exec ghostty --title="wikid" -e bash -lc 'nvim "$(w.sh)"'

# Open new wikid note
bindsym $mod+Shift+n exec ghostty --title="wikid" -e bash -lc 'nvim "$(wikid --new)"'

# Open daily wikid note
bindsym $mod+n exec ghostty --title="wikid" -e bash -lc 'nvim "$(wikid --daily)"'

# Open wikid scratch note
bindsym $mod+m exec ghostty --title="wikid" -e bash -lc 'nvim "$(wikid --new)"'

# Exit sway prompt
bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit sway?' -B 'Yes, exit sway' 'swaymsg exit'

# Focus left
bindsym $mod+$left focus left

# Focus down
bindsym $mod+$down focus down

# Focus up
bindsym $mod+$up focus up

# Focus right
bindsym $mod+$right focus right

# Move left
bindsym $mod+Shift+$left move left

# Move down
bindsym $mod+Shift+$down move down

# Move up
bindsym $mod+Shift+$up move up

# Move right
bindsym $mod+Shift+$right move right

# Switch to workspace 1
bindsym $mod+1 workspace number 1

# Switch to workspace 2
bindsym $mod+2 workspace number 2

# Switch to workspace 3
bindsym $mod+3 workspace number 3

# Switch to workspace 4
bindsym $mod+4 workspace number 4

# Switch to workspace 5
bindsym $mod+5 workspace number 5

# Switch to workspace 6
bindsym $mod+6 workspace number 6

# Switch to workspace 7
bindsym $mod+7 workspace number 7

# Switch to workspace 8
bindsym $mod+8 workspace number 8

# Switch to workspace 9
bindsym $mod+9 workspace number 9

# Switch to workspace 10
bindsym $mod+0 workspace number 10

# Move container to workspace 1
bindsym $mod+Shift+1 move container to workspace number 1

# Move container to workspace 2
bindsym $mod+Shift+2 move container to workspace number 2

# Move container to workspace 3
bindsym $mod+Shift+3 move container to workspace number 3

# Move container to workspace 4
bindsym $mod+Shift+4 move container to workspace number 4

# Move container to workspace 5
bindsym $mod+Shift+5 move container to workspace number 5

# Move container to workspace 6
bindsym $mod+Shift+6 move container to workspace number 6

# Move container to workspace 7
bindsym $mod+Shift+7 move container to workspace number 7

# Move container to workspace 8
bindsym $mod+Shift+8 move container to workspace number 8

# Move container to workspace 9
bindsym $mod+Shift+9 move container to workspace number 9

# Move container to workspace 10
bindsym $mod+Shift+0 move container to workspace number 10

# Split container horizontally
bindsym $mod+b splith

# Split container vertically
bindsym $mod+v splitv

# Layout stacking
bindsym $mod+s layout stacking

# Layout tabbed
bindsym $mod+w layout tabbed

# Layout toggle split
bindsym $mod+e layout toggle split

# Fullscreen toggle
bindsym $mod+f fullscreen

# Floating toggle
bindsym $mod+Shift+space floating toggle

# Toggle focus between tiling and floating
bindsym $mod+space focus mode_toggle

# Focus parent
bindsym $mod+a focus parent

# Move container to scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show scratchpad
bindsym $mod+minus scratchpad show

# Enter resize mode
bindsym $mod+r mode "resize"

# Enter command mode
bindsym $mod+c mode "command"

mode "resize" {
    # Resize shrink width
    bindsym $left resize shrink width 10px

    # Resize grow height
    bindsym $down resize grow height 10px

    # Resize shrink height
    bindsym $up resize shrink height 10px

    # Resize grow width
    bindsym $right resize grow width 10px

    # Exit resize mode with Return
    bindsym Return mode "default"

    # Exit resize mode with Escape
    bindsym Escape mode "default"
}

mode "command" {
    # Spotify now playing
    bindsym s exec ~/.alatar/scripts/spotify-get.sh

    # Exit command mode with Return
    bindsym Return mode "default"

    # Exit command mode with Escape
    bindsym Escape mode "default"
}

# Toggle mute
bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle

# Volume down
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%

# Volume up
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%

# Mic mute toggle
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle

# Brightness down
bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-

# Brightness up
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+

# Screenshot (disabled)
# bindsym Print exec grim
